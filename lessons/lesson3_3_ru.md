# Резюме урока SQL: Общие функции работы с датой и временем

SQL предоставляет несколько встроенных функций для работы с датами и временем. Эти функции помогают извлекать, манипулировать и форматировать значения даты/времени в ваших запросах. Вот резюме наиболее часто используемых функций даты и времени в SQL.

---

## 1. **CURRENT_DATE**
   - **Описание**: Возвращает текущую дату (без времени) в формате `YYYY-MM-DD`.
   - **Пример**:
     ```sql
     SELECT CURRENT_DATE;
     ```
   - **Результат**: `2025-04-20` (пример)

## 2. **CURRENT_TIME**
   - **Описание**: Возвращает текущее время (без даты) в формате `HH:MM:SS`.
   - **Пример**:
     ```sql
     SELECT CURRENT_TIME;
     ```
   - **Результат**: `15:30:45` (пример)

## 3. **CURRENT_TIMESTAMP**
   - **Описание**: Возвращает текущую дату и время (обе части: дата и время) в формате `YYYY-MM-DD HH:MM:SS`.
   - **Пример**:
     ```sql
     SELECT CURRENT_TIMESTAMP;
     ```
   - **Результат**: `2025-04-20 15:30:45` (пример)

## 4. **NOW()**
   - **Описание**: Возвращает текущую дату и время, эквивалентно `CURRENT_TIMESTAMP`.
   - **Пример**:
     ```sql
     SELECT NOW();
     ```
   - **Результат**: `2025-04-20 15:30:45` (пример)

## 5. **DATE()**
   - **Описание**: Извлекает только дату из значения даты или даты и времени.
   - **Пример**:
     ```sql
     SELECT DATE('2025-04-20 15:30:45');
     ```
   - **Результат**: `2025-04-20`

## 6. **TIME()**
   - **Описание**: Извлекает только время из значения даты или даты и времени.
   - **Пример**:
     ```sql
     SELECT TIME('2025-04-20 15:30:45');
     ```
   - **Результат**: `15:30:45`

## 7. **YEAR()**
   - **Описание**: Извлекает год из значения даты или даты и времени.
   - **Пример**:
     ```sql
     SELECT YEAR('2025-04-20');
     ```
   - **Результат**: `2025`

## 8. **MONTH()**
   - **Описание**: Извлекает месяц из значения даты или даты и времени.
   - **Пример**:
     ```sql
     SELECT MONTH('2025-04-20');
     ```
   - **Результат**: `4` (для апреля)

## 9. **DAY()**
   - **Описание**: Извлекает день месяца из значения даты или даты и времени.
   - **Пример**:
     ```sql
     SELECT DAY('2025-04-20');
     ```
   - **Результат**: `20`

## 10. **DATE_ADD()**
   - **Описание**: Добавляет указанный интервал времени к дате.
   - **Пример**:
     ```sql
     SELECT DATE_ADD('2025-04-20', INTERVAL 5 DAY);
     ```
   - **Результат**: `2025-04-25`

## 11. **DATE_SUB()**
   - **Описание**: Вычитает указанный интервал времени из даты.
   - **Пример**:
     ```sql
     SELECT DATE_SUB('2025-04-20', INTERVAL 5 DAY);
     ```
   - **Результат**: `2025-04-15`

## 12. **DATEDIFF()**
   - **Описание**: Возвращает количество дней между двумя датами.
   - **Пример**:
     ```sql
     SELECT DATEDIFF('2025-04-20', '2025-04-15');
     ```
   - **Результат**: `5`

## 13. **DATE_FORMAT()**
   - **Описание**: Форматирует дату или значение даты и времени в заданном формате.
   - **Пример**:
     ```sql
     SELECT DATE_FORMAT('2025-04-20', '%Y-%m-%d');
     ```
   - **Результат**: `2025-04-20`

   **Общие спецификаторы формата**:
   - `%Y`: Год (4 цифры)
   - `%m`: Месяц (2 цифры)
   - `%d`: День месяца (2 цифры)
   - `%H`: Час (24-часовой формат)
   - `%i`: Минуты
   - `%s`: Секунды

## 14. **STRFTIME()** (SQLite и PostgreSQL)
   - **Описание**: Похожа на `DATE_FORMAT()`, она форматирует значения даты/времени в заданном формате.
   - **Пример**:
     ```sql
     SELECT STRFTIME('%Y-%m-%d', '2025-04-20');
     ```
   - **Результат**: `2025-04-20`

## 15. **TIMESTAMPDIFF()**
   - **Описание**: Возвращает разницу между двумя значениями даты/времени, измеренную в указанной единице (например, секунды, минуты, дни).
   - **Пример**:
     ```sql
     SELECT TIMESTAMPDIFF(DAY, '2025-04-15', '2025-04-20');
     ```
   - **Результат**: `5`

## 16. **EXTRACT()**
   - **Описание**: Извлекает часть из значения даты или времени (например, год, месяц, день, час и т.д.).
   - **Пример**:
     ```sql
     SELECT EXTRACT(YEAR FROM '2025-04-20');
     ```
   - **Результат**: `2025`

---

### Практические примеры использования

1. **Нахождение пользователей, зарегистрировавшихся за последние 30 дней**:
   ```sql
   SELECT * 
   FROM users 
   WHERE registration_date > DATE_SUB(CURRENT_DATE, INTERVAL 30 DAY);
