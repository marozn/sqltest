# 2.4 Псевдонимы столбцов

## Что такое псевдонимы столбцов?

Псевдонимы столбцов позволяют вам присвоить временное, альтернативное имя столбцу в результирующем наборе запроса `SELECT`. Это не изменяет фактическое имя столбца в таблице; это влияет только на то, как столбец отображается в выходных данных запроса.

## Синтаксис

Вы можете создать псевдоним столбца, используя ключевое слово `AS`, хотя оно часто необязательно:

```sql
SELECT column_name AS alias_name
FROM table_name;

-- ИЛИ (без AS)

SELECT column_name alias_name
FROM table_name;
```

- **`column_name`**: Имя столбца, для которого вы хотите создать псевдоним.  
- **`AS alias_name`**: Ключевое слово `AS`, за которым следует желаемое имя псевдонима.  
- **`alias_name`**: Новое, временное имя для столбца. Если псевдоним содержит пробелы или специальные символы, его необходимо заключить в двойные кавычки (`"`).

## Преимущества псевдонимов столбцов

- **Улучшенная читаемость**: Псевдонимы могут сделать имена столбцов более описательными и легкими для понимания, особенно при работе со сложными запросами или вычисляемыми столбцами.  
- **Упрощенные имена столбцов**: Если имя столбца длинное или содержит символы подчеркивания, псевдоним может предоставить более короткое, более удобное имя для использования в результирующем наборе.  
- **Избежание неоднозначности**: При объединении таблиц со столбцами, имеющими одинаковые имена, псевдонимы могут помочь различить их в выходных данных.  
- **Создание более удобного вывода**: Псевдонимы позволяют настраивать заголовки столбцов в результирующем наборе, чтобы они были более значимыми для конечных пользователей или инструментов отчетности.  
- **Работа с вычисляемыми столбцами**: Псевдонимы необходимы при создании вычисляемых столбцов (например, с использованием функций или выражений), поскольку эти столбцы не имеют собственных имен.  

### Примеры (база данных Sakila)

1. **Базовый псевдоним**:  
    Этот запрос выбирает столбцы `first_name` и `last_name` из таблицы `actor`, но отображает их как "Имя" и "Фамилия" в результирующем наборе. Обратите внимание на использование двойных кавычек, потому что псевдоним содержит пробел.

    ```sql
    SELECT first_name AS "Имя", last_name AS "Фамилия"
    FROM actor;
    ```

2. **Псевдонимы вычисляемых столбцов**:  
    Этот запрос вычисляет продолжительность аренды в днях и присваивает псевдоним `rental_duration` вычисляемому столбцу.

    ```sql
    SELECT rental_date, return_date - rental_date AS rental_duration
    FROM rental;
    ```

3. **Псевдонимы с объединением**:  
    Этот запрос объединяет столбцы `first_name` и `last_name`, чтобы создать полное имя, и присваивает псевдоним "Полное имя" результирующему столбцу. Оператор `||` используется для объединения строк в SQLite (база данных, часто используемая с Sakila). Другие базы данных могут использовать другой оператор объединения (например, `+` в SQL Server, функция `CONCAT()` в MySQL).

    ```sql
    SELECT first_name || ' ' || last_name AS "Полное имя"
    FROM actor;
    ```

**Основные выводы из этого урока:**

- Псевдонимы столбцов предоставляют временные, описательные имена для столбцов в результирующем наборе запроса.  
- Используйте ключевое слово `AS` (или просто пробел) для создания псевдонима.  
- Заключайте псевдонимы с пробелами или специальными символами в двойные кавычки (`"`).  
- Псевдонимы улучшают читаемость, упрощают имена столбцов, позволяют избежать неоднозначности и необходимы для вычисляемых столбцов.